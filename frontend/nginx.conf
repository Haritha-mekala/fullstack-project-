worker_processes auto;
error_log /var/log/nginx/error.log warn;
pid /var/run/nginx.pid;


events { worker_connections 1024; }


http {
include /etc/nginx/mime.types;
default_type application/octet-stream;
sendfile on;
keepalive_timeout 65;


server {
listen 80;
server_name _;


root /usr/share/nginx/html;
index index.html;


location / {
try_files $uri /index.html;
}


# These are only used if you expose the frontend directly (not via the gateway).
location /api/ { proxy_pass http://backend:8000$request_uri; }
location /ai/ { proxy_pass http://ai-service:9000$request_uri; }
}
}
